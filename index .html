<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(90deg, #4b6cb7 0%, #182848 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .auth-container {
            padding: 40px;
            text-align: center;
        }
        
        .main-container {
            display: none;
            padding: 20px;
        }
        
        input, select, button {
            padding: 10px;
            margin: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        button {
            background: #4b6cb7;
            color: white;
            border: none;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        button:hover {
            background: #3a5999;
        }
        
        .upload-section {
            background: #f5f5f5;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ddd;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00c6ff 0%, #0072ff 100%);
            transition: width 0.3s;
        }
        
        .file-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .file-item {
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .file-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .file-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .admin-panel {
            background: #ffeaa7;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
        }
        
        .user-list {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 15px;
        }
        
        .tab-buttons {
            display: flex;
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
        }
        
        .tab-btn {
            padding: 10px 20px;
            background: none;
            border: none;
            color: #666;
            cursor: pointer;
        }
        
        .tab-btn.active {
            border-bottom: 3px solid #4b6cb7;
            color: #4b6cb7;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ é«˜é€Ÿæ–‡ä»¶ç®¡ç†ç³»ç»Ÿ</h1>
            <p>æ”¯æŒè¶…å¤§æ–‡ä»¶ä¸Šä¼ ä¸‹è½½ | å¤šç”¨æˆ·ç®¡ç†</p>
        </div>
        
        <!-- ç™»å½•æ³¨å†Œç•Œé¢ -->
        <div id="authContainer" class="auth-container">
            <h2>ç”¨æˆ·ç™»å½•</h2>
            <input type="text" id="loginUsername" placeholder="ç”¨æˆ·å">
            <input type="password" id="loginPassword" placeholder="å¯†ç ">
            <button onclick="login()">ç™»å½•</button>
            
            <h3 style="margin-top: 30px;">æ–°ç”¨æˆ·æ³¨å†Œ</h3>
            <input type="text" id="regUsername" placeholder="ç”¨æˆ·å">
            <input type="password" id="regPassword" placeholder="å¯†ç ">
            <input type="email" id="regEmail" placeholder="é‚®ç®±">
            <button onclick="register()">æ³¨å†Œ</button>
        </div>
        
        <!-- ä¸»ç•Œé¢ -->
        <div id="mainContainer" class="main-container">
            <div style="text-align: right; margin-bottom: 20px;">
                <span id="currentUser"></span>
                <button onclick="logout()">é€€å‡ºç™»å½•</button>
            </div>
            
            <div class="tab-buttons">
                <button class="tab-btn active" onclick="showTab('upload')">ğŸ“¤ ä¸Šä¼ æ–‡ä»¶</button>
                <button class="tab-btn" onclick="showTab('files')">ğŸ“ æˆ‘çš„æ–‡ä»¶</button>
                <button class="tab-btn" onclick="showTab('browse')">ğŸ‘ï¸ æµè§ˆæ–‡ä»¶</button>
                <button class="tab-btn admin-only" onclick="showTab('admin')">âš™ï¸ ç®¡ç†é¢æ¿</button>
            </div>
            
            <!-- ä¸Šä¼ æ ‡ç­¾é¡µ -->
            <div id="uploadTab" class="tab-content active">
                <div class="upload-section">
                    <h2>ä¸Šä¼ æ–‡ä»¶</h2>
                    <input type="file" id="fileInput" multiple>
                    <button onclick="uploadFiles()">å¼€å§‹ä¸Šä¼ </button>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                    </div>
                    <div id="uploadStatus"></div>
                </div>
                
                <div style="margin-top: 20px;">
                    <h3>ä¸Šä¼ è¯´æ˜ï¼š</h3>
                    <ul>
                        <li>æ”¯æŒæ‰€æœ‰æ–‡ä»¶ç±»å‹</li>
                        <li>æœ€å¤§æ–‡ä»¶å¤§å°ï¼šæ— é™åˆ¶</li>
                        <li>é«˜é€Ÿä¼ è¾“é€šé“å·²å¯ç”¨</li>
                    </ul>
                </div>
            </div>
            
            <!-- æ–‡ä»¶ç®¡ç†æ ‡ç­¾é¡µ -->
            <div id="filesTab" class="tab-content">
                <h2>æˆ‘çš„æ–‡ä»¶</h2>
                <input type="text" id="searchInput" placeholder="æœç´¢æ–‡ä»¶..." oninput="searchFiles()">
                <select id="sortSelect" onchange="loadUserFiles()">
                    <option value="date">æŒ‰æ—¶é—´æ’åº</option>
                    <option value="name">æŒ‰åç§°æ’åº</option>
                    <option value="size">æŒ‰å¤§å°æ’åº</option>
                </select>
                <div id="userFileList" class="file-list"></div>
            </div>
            
            <!-- æµè§ˆæ ‡ç­¾é¡µ -->
            <div id="browseTab" class="tab-content">
                <h2>å…¬å…±æ–‡ä»¶</h2>
                <div id="publicFileList" class="file-list"></div>
            </div>
            
            <!-- ç®¡ç†å‘˜æ ‡ç­¾é¡µ -->
            <div id="adminTab" class="tab-content">
                <div class="admin-panel">
                    <h2>âš™ï¸ ç®¡ç†å‘˜æ§åˆ¶é¢æ¿</h2>
                    <div class="user-list">
                        <h3>ç”¨æˆ·ç®¡ç†</h3>
                        <div id="userManagement"></div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h3>ç³»ç»Ÿç»Ÿè®¡</h3>
                        <div id="systemStats">æ­£åœ¨åŠ è½½ç»Ÿè®¡æ•°æ®...</div>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h3>ç³»ç»Ÿæ“ä½œ</h3>
                        <button onclick="clearAllFiles()">æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶</button>
                        <button onclick="backupSystem()">å¤‡ä»½ç³»ç»Ÿ</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ç”¨æˆ·æ•°æ®å­˜å‚¨ï¼ˆå®é™…åº”ç”¨ä¸­åº”ä½¿ç”¨åç«¯æ•°æ®åº“ï¼‰
        let users = JSON.parse(localStorage.getItem('users') || '[]');
        let currentUser = null;
        let files = JSON.parse(localStorage.getItem('files') || '[]');
        
        // åˆå§‹åŒ–é»˜è®¤ç®¡ç†å‘˜è´¦å·
        function initDefaultAdmin() {
            const adminExists = users.some(u => u.username === 'demo');
            if (!adminExists) {
                users.push({
                    username: 'demo',
                    password: 'demo',
                    email: 'admin@example.com',
                    role: 'admin',
                    created: new Date().toISOString()
                });
                localStorage.setItem('users', JSON.stringify(users));
            }
        }
        
        // ç™»å½•åŠŸèƒ½
        function login() {
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showMainUI();
                alert('ç™»å½•æˆåŠŸï¼');
            } else {
                alert('ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯ï¼');
            }
        }
        
        // æ³¨å†ŒåŠŸèƒ½
        function register() {
            const username = document.getElementById('regUsername').value;
            const password = document.getElementById('regPassword').value;
            const email = document.getElementById('regEmail').value;
            
            if (!username || !password || !email) {
                alert('è¯·å¡«å†™æ‰€æœ‰å­—æ®µï¼');
                return;
            }
            
            if (users.some(u => u.username === username)) {
                alert('ç”¨æˆ·åå·²å­˜åœ¨ï¼');
                return;
            }
            
            const newUser = {
                username,
                password,
                email,
                role: 'user',
                created: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            alert('æ³¨å†ŒæˆåŠŸï¼è¯·ç™»å½•ã€‚');
            
            // æ¸…ç©ºæ³¨å†Œè¡¨å•
            document.getElementById('regUsername').value = '';
            document.getElementById('regPassword').value = '';
            document.getElementById('regEmail').value = '';
        }
        
        // æ˜¾ç¤ºä¸»ç•Œé¢
        function showMainUI() {
            initDefaultAdmin();
            
            document.getElementById('authContainer').style.display = 'none';
            document.getElementById('mainContainer').style.display = 'block';
            
            document.getElementById('currentUser').textContent = 
                `æ¬¢è¿ï¼Œ${currentUser.username} (${currentUser.role === 'admin' ? 'ç®¡ç†å‘˜' : 'ç”¨æˆ·'})`;
            
            // å¦‚æœæ˜¯ç®¡ç†å‘˜ï¼Œæ˜¾ç¤ºç®¡ç†å‘˜æ ‡ç­¾é¡µ
            const adminTabs = document.querySelectorAll('.admin-only');
            adminTabs.forEach(tab => {
                tab.style.display = currentUser.role === 'admin' ? 'inline-block' : 'none';
            });
            
            // åŠ è½½ç”¨æˆ·æ–‡ä»¶
            loadUserFiles();
            loadPublicFiles();
            
            if (currentUser.role === 'admin') {
                loadAdminPanel();
            }
        }
        
        // é€€å‡ºç™»å½•
        function logout() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            location.reload();
        }
        
        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function showTab(tabName) {
            // æ›´æ–°æ ‡ç­¾æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // æ˜¾ç¤ºå¯¹åº”æ ‡ç­¾å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');
        }
        
        // ä¸Šä¼ æ–‡ä»¶
        function uploadFiles() {
            const fileInput = document.getElementById('fileInput');
            const files = fileInput.files;
            
            if (files.length === 0) {
                alert('è¯·é€‰æ‹©æ–‡ä»¶ï¼');
                return;
            }
            
            const uploadStatus = document.getElementById('uploadStatus');
            const progressFill = document.getElementById('progressFill');
            
            uploadStatus.innerHTML = '';
            progressFill.style.width = '0%';
            
            // æ¨¡æ‹Ÿé«˜é€Ÿä¸Šä¼ è¿‡ç¨‹
            let uploadedCount = 0;
            const totalFiles = files.length;
            
            Array.from(files).forEach((file, index) => {
                // åˆ›å»ºæ–‡ä»¶å¯¹è±¡
                const fileObj = {
                    id: Date.now() + index,
                    name: file.name,
                    size: formatFileSize(file.size),
                    type: file.type || 'unknown',
                    owner: currentUser.username,
                    uploadTime: new Date().toISOString(),
                    isPublic: currentUser.role === 'admin', // ç®¡ç†å‘˜ä¸Šä¼ çš„æ–‡ä»¶é»˜è®¤å…¬å¼€
                    data: 'simulated_data_' + Math.random().toString(36).substr(2, 9)
                };
                
                // æ·»åŠ åˆ°æ–‡ä»¶åˆ—è¡¨
                const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
                existingFiles.push(fileObj);
                localStorage.setItem('files', JSON.stringify(existingFiles));
                
                // æ›´æ–°è¿›åº¦
                uploadedCount++;
                const progress = Math.round((uploadedCount / totalFiles) * 100);
                progressFill.style.width = progress + '%';
                
                // æ˜¾ç¤ºä¸Šä¼ çŠ¶æ€
                setTimeout(() => {
                    uploadStatus.innerHTML += 
                        `<p>âœ… ${file.name} ä¸Šä¼ å®Œæˆ (é€Ÿåº¦ï¼š${Math.random() * 1000 + 500} MB/s)</p>`;
                    
                    if (uploadedCount === totalFiles) {
                        uploadStatus.innerHTML += '<p><strong>æ‰€æœ‰æ–‡ä»¶ä¸Šä¼ å®Œæˆï¼</strong></p>';
                        loadUserFiles();
                        loadPublicFiles();
                    }
                }, index * 300);
            });
            
            // æ¸…ç©ºæ–‡ä»¶è¾“å…¥
            fileInput.value = '';
        }
        
        // åŠ è½½ç”¨æˆ·æ–‡ä»¶
        function loadUserFiles() {
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const userFiles = existingFiles.filter(f => f.owner === currentUser.username);
            
            // æ’åº
            const sortBy = document.getElementById('sortSelect')?.value || 'date';
            userFiles.sort((a, b) => {
                if (sortBy === 'name') return a.name.localeCompare(b.name);
                if (sortBy === 'size') return a.size - b.size;
                return new Date(b.uploadTime) - new Date(a.uploadTime);
            });
            
            displayFiles(userFiles, 'userFileList');
        }
        
        // åŠ è½½å…¬å…±æ–‡ä»¶
        function loadPublicFiles() {
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const publicFiles = existingFiles.filter(f => f.isPublic || f.owner === currentUser.username);
            
            displayFiles(publicFiles, 'publicFileList');
        }
        
        // æ˜¾ç¤ºæ–‡ä»¶åˆ—è¡¨
        function displayFiles(fileList, containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            if (fileList.length === 0) {
                container.innerHTML = '<p>æš‚æ— æ–‡ä»¶</p>';
                return;
            }
            
            container.innerHTML = fileList.map(file => `
                <div class="file-item">
                    <div class="file-icon">${getFileIcon(file.type)}</div>
                    <h4>${file.name}</h4>
                    <p>å¤§å°: ${file.size}</p>
                    <p>æ‰€æœ‰è€…: ${file.owner}</p>
                    <p>ä¸Šä¼ æ—¶é—´: ${new Date(file.uploadTime).toLocaleDateString()}</p>
                    <button onclick="downloadFile('${file.id}')">ä¸‹è½½</button>
                    ${file.owner === currentUser.username ? 
                        `<button onclick="deleteFile('${file.id}')">åˆ é™¤</button>` : ''}
                    ${currentUser.role === 'admin' && !file.isPublic ? 
                        `<button onclick="makePublic('${file.id}')">è®¾ä¸ºå…¬å¼€</button>` : ''}
                </div>
            `).join('');
        }
        
        // è·å–æ–‡ä»¶å›¾æ ‡
        function getFileIcon(fileType) {
            const icons = {
                'image': 'ğŸ–¼ï¸',
                'video': 'ğŸ¥',
                'audio': 'ğŸµ',
                'pdf': 'ğŸ“„',
                'text': 'ğŸ“',
                'zip': 'ğŸ“¦',
                'default': 'ğŸ“'
            };
            
            if (fileType.includes('image')) return icons.image;
            if (fileType.includes('video')) return icons.video;
            if (fileType.includes('audio')) return icons.audio;
            if (fileType.includes('pdf')) return icons.pdf;
            if (fileType.includes('text')) return icons.text;
            if (fileType.includes('zip') || fileType.includes('compressed')) return icons.zip;
            return icons.default;
        }
        
        // æœç´¢æ–‡ä»¶
        function searchFiles() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const userFiles = existingFiles.filter(f => 
                f.owner === currentUser.username && 
                f.name.toLowerCase().includes(searchTerm)
            );
            
            displayFiles(userFiles, 'userFileList');
        }
        
        // ä¸‹è½½æ–‡ä»¶
        function downloadFile(fileId) {
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const file = existingFiles.find(f => f.id === fileId);
            
            if (!file) {
                alert('æ–‡ä»¶ä¸å­˜åœ¨ï¼');
                return;
            }
            
            // åˆ›å»ºæ¨¡æ‹Ÿä¸‹è½½
            const link = document.createElement('a');
            link.href = 'data:text/plain;charset=utf-8,' + encodeURIComponent('æ¨¡æ‹Ÿæ–‡ä»¶å†…å®¹: ' + file.name);
            link.download = file.name;
            link.click();
            
            // æ¨¡æ‹Ÿé«˜é€Ÿä¸‹è½½
            alert(`æ–‡ä»¶ ${file.name} å¼€å§‹ä¸‹è½½\næ¨¡æ‹Ÿä¸‹è½½é€Ÿåº¦: ${Math.random() * 2000 + 500} MB/s`);
        }
        
        // åˆ é™¤æ–‡ä»¶
        function deleteFile(fileId) {
            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæ–‡ä»¶å—ï¼Ÿ')) return;
            
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const updatedFiles = existingFiles.filter(f => f.id !== fileId);
            localStorage.setItem('files', JSON.stringify(updatedFiles));
            
            loadUserFiles();
            loadPublicFiles();
            alert('æ–‡ä»¶å·²åˆ é™¤ï¼');
        }
        
        // è®¾ä¸ºå…¬å¼€
        function makePublic(fileId) {
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const fileIndex = existingFiles.findIndex(f => f.id === fileId);
            
            if (fileIndex > -1) {
                existingFiles[fileIndex].isPublic = true;
                localStorage.setItem('files', JSON.stringify(existingFiles));
                loadPublicFiles();
                alert('æ–‡ä»¶å·²è®¾ä¸ºå…¬å¼€ï¼');
            }
        }
        
        // åŠ è½½ç®¡ç†å‘˜é¢æ¿
        function loadAdminPanel() {
            // ç”¨æˆ·ç®¡ç†
            const userManagement = document.getElementById('userManagement');
            userManagement.innerHTML = users.map(user => `
                <div style="padding: 10px; border-bottom: 1px solid #ddd;">
                    <strong>${user.username}</strong> (${user.role})
                    <br>é‚®ç®±: ${user.email}
                    <br>æ³¨å†Œæ—¶é—´: ${new Date(user.created).toLocaleDateString()}
                    ${user.username !== currentUser.username ? 
                        `<button onclick="deleteUser('${user.username}')" style="margin-top:5px;">åˆ é™¤ç”¨æˆ·</button>` : ''}
                </div>
            `).join('');
            
            // ç³»ç»Ÿç»Ÿè®¡
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const systemStats = document.getElementById('systemStats');
            systemStats.innerHTML = `
                <p>æ€»ç”¨æˆ·æ•°: ${users.length}</p>
                <p>æ€»æ–‡ä»¶æ•°: ${existingFiles.length}</p>
                <p>ç³»ç»Ÿå­˜å‚¨ä½¿ç”¨: æ¨¡æ‹Ÿæ•°æ®</p>
                <p>æœ€åå¤‡ä»½: æ— </p>
            `;
        }
        
        // åˆ é™¤ç”¨æˆ·
        function deleteUser(username) {
            if (!confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· ${username} å—ï¼Ÿè¿™å°†åˆ é™¤è¯¥ç”¨æˆ·çš„æ‰€æœ‰æ–‡ä»¶ï¼`)) return;
            
            // åˆ é™¤ç”¨æˆ·
            users = users.filter(u => u.username !== username);
            localStorage.setItem('users', JSON.stringify(users));
            
            // åˆ é™¤ç”¨æˆ·çš„æ–‡ä»¶
            const existingFiles = JSON.parse(localStorage.getItem('files') || '[]');
            const updatedFiles = existingFiles.filter(f => f.owner !== username);
            localStorage.setItem('files', JSON.stringify(updatedFiles));
            
            loadAdminPanel();
        }
        
        // æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶
        function clearAllFiles() {
            if (!confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰æ–‡ä»¶å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼')) return;
            
            localStorage.setItem('files', JSON.stringify([]));
            alert('æ‰€æœ‰æ–‡ä»¶å·²æ¸…ç©ºï¼');
            loadUserFiles();
            loadPublicFiles();
            loadAdminPanel();
        }
        
        // å¤‡ä»½ç³»ç»Ÿ
        function backupSystem() {
            alert('ç³»ç»Ÿå¤‡ä»½å¼€å§‹...\nå¤‡ä»½å®Œæˆï¼ä¸‹è½½å¤‡ä»½æ–‡ä»¶');
            
            // åˆ›å»ºå¤‡ä»½æ•°æ®
            const backupData = {
                users: users,
                files: JSON.parse(localStorage.getItem('files') || '[]'),
                backupTime: new Date().toISOString()
            };
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const link = document.createElement('a');
            link.href = 'data:text/json;charset=utf-8,' + encodeURIComponent(JSON.stringify(backupData, null, 2));
            link.download = `system_backup_${new Date().getTime()}.json`;
            link.click();
        }
        
        // æ ¼å¼åŒ–æ–‡ä»¶å¤§å°
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 B';
            const k = 1024;
            const sizes = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // åˆå§‹åŒ–
        function init() {
            initDefaultAdmin();
            
            // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showMainUI();
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
        window.onload = init;
    </script>
</body>
</html>